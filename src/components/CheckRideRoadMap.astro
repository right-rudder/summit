---
const StepsExample = [
  {
    title: "Title 1",
    descriptions: [
      "Lorem ipsum dolor sit amet.",
      "Lorem ipsum dolor sit amet.",
    ],
    imagePath: "/src/assets/placeholder-img.webp",
    imageAlt: "Placeholder Image",
  },
  {
    title: "Title 2",
    descriptions: [
      "Lorem ipsum dolor sit amet.",
      "Lorem ipsum dolor sit amet.",
    ],
    imagePath: "/src/assets/placeholder-img.webp",
    imageAlt: "Placeholder Image",
  },
];

const {
  title = "Section Title",
  id = "check-ride-steps",
  description,
  content = StepsExample,
} = Astro.props;

import ImageComp from "./ImageComp.astro";
---

<section id={id}>
  <div class="bg-white py-16 sm:py-32">
    <div class="mx-auto max-w-7xl px-6 lg:px-8">
      <div class="mx-auto w-full lg:mx-0">
        <h2
          class="lg:text-6xl text-3xl font-bold tracking-tight text-main-red text-center"
        >
          {title}
        </h2>
        <p class="mt-4 text-lg leading-8 text-black text-center">
          {description}
        </p>
      </div>

      <div>
        {content.map((step, index) => {
          const isEven = (index + 1) % 2 === 0
          return (
            <div class={`my-16 flex flex-col ${isEven ? "lg:flex-row-reverse" : "lg:flex-row"} gap-8 lg:items-stretch`}>
              {/* TEXT COLUMN */}
              <div class="relative flex-1 pt-32 lg:pt-16 flex flex-col justify-start">
                <h3 class={`absolute top-0 ${isEven ? "left-0" : "right-0"} text-9xl font-light text-main-red`}>
                  {step.step ?? index + 1}
                </h3>

                <div class={`${isEven ? "lg:pr-6" : "lg:pl-12"} text-center lg:text-justify`}>
                  <h3 class={`text-3xl font-bold tracking-tight text-main-red py-12 ${isEven ? "lg:text-right" : ""}`}>
                    {step.title}
                  </h3>
                  {step.descriptions.map((desc) => (
                    <p class="text-xl leading-8 py-2 text-gray-800 text-pretty">
                      <Fragment set:html={desc} />
                    </p>
                  ))}
                </div>
              </div>

              {/* IMAGE COLUMN â€” matches text height */}
              <div class="relative flex-1">
                <ImageComp
                  styles="absolute inset-0 w-full h-full object-cover rounded"
                  imagePath={step.imagePath || "/src/assets/placeholder-img.webp"}
                  imageAlt={step.imageAlt || "Image Placeholder"}
                />
              </div>
            </div>
          )
        })}
      </div>
    </div>
  </div>
</section>
